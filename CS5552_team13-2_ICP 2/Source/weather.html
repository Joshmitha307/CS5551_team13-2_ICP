<html>
<head>
    <style>
        .weatherModule {
            background: white ;
            height: 100%;
            width: 100%;
            border: 1px dashed #ccc;
            padding: 1em;
        }
        .city{
            background: lightskyblue;
            color: black;
            text-align: center;
            font-size: 30px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js" type="application/javascript"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="city" ng-app="weather" ng-controller="weatherctrl">
    <br>
    <h1 class="text-center">Hourly weather forecast for
        <label id="date">
            <script>
                var date = new Date();
                document.getElementById("date").innerHTML = date.toDateString();
            </script>
        </label>
    </h1>
    <div class="container">
        <form class="form-inline">
            <div class="form-group">
                <label>City:</label>
                <input type="text" class="form-control" ng-model="City">
            </div>
            <div class="form-group">
                <label>State :</label>
                <select class="form-control" name="stateSelect" ng-model="State">
                    <option value="" disabled selected>Select state</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select>
            </div>
            <button id="btn" ng-click="getWeather(City,State)" type="submit" class="btn btn-default">Show Weather</button>
        </form>
    </div>

    <div class="weatherModule">
        <table width="100%">
            <tr>
                <th><h1>Time</h1></th>
                <th><h1>Conditions</h1></th>
                <th><h1>Temp(F)</h1></th>
                <th><h1>Feels like(F)</h1></th>
                <th><h1>Humidity(%)</h1></th>
            </tr>
            <tr>
                <th>{{data.hourly_forecast[0].FCTTIME.civil}}</th>
                <th><div ng-if=data.hourly_forecast[0].icon_url><img src={{data.hourly_forecast[0].icon_url}}>&nbsp;{{data.hourly_forecast[0].condition}}</div></th>
                <th>{{data.hourly_forecast[0].temp.english}}</th>
                <th>{{data.hourly_forecast[0].feelslike.english}}</th>
                <th>{{data.hourly_forecast[0].humidity}}</th>
            </tr>
            <tr>
                <th>{{data.hourly_forecast[1].FCTTIME.civil}}</th>
                <th><div ng-if=data.hourly_forecast[1].icon_url><img src={{data.hourly_forecast[1].icon_url}}>&nbsp;{{data.hourly_forecast[1].condition}}</div></th>
                <th>{{data.hourly_forecast[1].temp.english}}</th>
                <th>{{data.hourly_forecast[1].feelslike.english}}</th>
                <th>{{data.hourly_forecast[1].humidity}}</th>
            </tr>
            <tr>
                <th>{{data.hourly_forecast[2].FCTTIME.civil}}</th>
                <th><div ng-if=data.hourly_forecast[2].icon_url><img src={{data.hourly_forecast[2].icon_url}}>&nbsp;{{data.hourly_forecast[2].condition}}</div></th>
                <th>{{data.hourly_forecast[2].temp.english}}</th>
                <th>{{data.hourly_forecast[2].feelslike.english}}</th>
                <th>{{data.hourly_forecast[2].humidity}}</th>
            </tr>
            <tr>
                <th>{{data.hourly_forecast[3].FCTTIME.civil}}</th>
                <th><div ng-if=data.hourly_forecast[3].icon_url><img src={{data.hourly_forecast[3].icon_url}}>&nbsp;{{data.hourly_forecast[3].condition}}</div></th>
                <th>{{data.hourly_forecast[3].temp.english}}</th>
                <th>{{data.hourly_forecast[3].feelslike.english}}</th>
                <th>{{data.hourly_forecast[3].humidity}}</th>
            </tr>
            <tr>
                <th>{{data.hourly_forecast[4].FCTTIME.civil}}</th>
                <th><div ng-if=data.hourly_forecast[4].icon_url><img src={{data.hourly_forecast[4].icon_url}}>&nbsp;{{data.hourly_forecast[4].condition}}</div></th>
                <th>{{data.hourly_forecast[4].temp.english}}</th>
                <th>{{data.hourly_forecast[4].feelslike.english}}</th>
                <th>{{data.hourly_forecast[4].humidity}}</th>
            </tr>
        </table>
    </div>
</div>


<script>
    angular.module('weather',[])
        .controller('weatherctrl', function($scope, $http) {
            $scope.getWeather = function(City,State) {
                var url = 'http://api.wunderground.com/api/4bbbc25f4f5946dd/hourly/q/'+ $scope.State + '/' + $scope.City + '/.json';
                $http.get(url).success(function(data) {
                    $scope.data = data;
                })
            }

        });
</script>
</body>
</html>